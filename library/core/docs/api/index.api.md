## API Report File for "@hz-9/a4-core"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import { ArgumentsHost } from '@nestjs/common';
import { CallHandler } from '@nestjs/common';
import { ClassConstructor } from 'class-transformer';
import { DynamicModule } from '@nestjs/common';
import type { Equal } from '@type-challenges/utils';
import { ExceptionFilter } from '@nestjs/common';
import { ExecutionContext } from '@nestjs/common';
import { ExpressAdapter } from '@nestjs/platform-express';
import type { ForwardReference } from '@nestjs/common';
import type { Get } from 'type-fest';
import { HttpAdapterHost } from '@nestjs/core';
import { InjectionToken } from '@nestjs/common';
import { Logger } from '@nestjs/common';
import { LoggerService } from '@nestjs/common';
import { ModuleMetadata } from '@nestjs/common';
import type { ModuleRef } from '@nestjs/core';
import { NestApplication } from '@nestjs/core';
import { NestApplicationOptions } from '@nestjs/common';
import { NestExpressBodyParserOptions } from '@nestjs/platform-express';
import { NestExpressBodyParserType } from '@nestjs/platform-express';
import { NestInterceptor } from '@nestjs/common';
import { NestMiddleware } from '@nestjs/common';
import type { NextFunction } from 'express';
import { Observable } from 'rxjs';
import type { OptionalFactoryDependency } from '@nestjs/common';
import type { PackageJson } from 'type-fest';
import type { ParseIntPipeOptions } from '@nestjs/common';
import { PipeTransform } from '@nestjs/common';
import { Provider } from '@nestjs/common';
import type { Request as Request_2 } from 'express';
import type { Response as Response_2 } from 'express';
import type { Type } from '@nestjs/common';
import { ValidationError } from 'class-validator';
import { ValidationOptions } from 'class-validator';
import { ValidationPipe } from '@nestjs/common';
import { ValidationPipeOptions } from '@nestjs/common';

// @public
export class A4Application {
    constructor(nestApp: NestApplication, options?: IA4AppConstructorOptions);
    addGlobalExceptionsFilter(rules?: IExceptionRule[]): void;
    // (undocumented)
    alive: boolean;
    // (undocumented)
    getA4MicroServiceHelp(provideToken?: string): A4MicroServiceHelp;
    // (undocumented)
    getA4RegistryHelp(provideToken?: string): A4RegistryHelp;
    // @internal
    protected getNetwork(): IA4Network;
    init(): Promise<void>;
    protected initMainRequest(): Promise<void>;
    // (undocumented)
    readonly instanceId: string;
    listen(options?: IA4AppListenOptions): Promise<void>;
    // (undocumented)
    protected readonly logger: Logger;
    // (undocumented)
    protected readonly microServiceMap: Map<string, A4MicroServiceHelp>;
    // (undocumented)
    readonly nestApp: NestApplication;
    // (undocumented)
    readonly network: IA4Network;
    // (undocumented)
    readonly options: Required<IA4AppConstructorOptions>;
    // (undocumented)
    protected optionsWithDefault(options?: IA4AppConstructorOptions): Required<IA4AppConstructorOptions>;
    printAddress(): Promise<void>;
    // (undocumented)
    protected readonly registryMap: Map<string, A4RegistryHelp>;
    staticFile(options: IA4AppStaticFileOptions): void;
    // @internal
    protected tryInitDocs(): Promise<void>;
    // @internal
    protected tryInitSafe(): Promise<void>;
}

// @public (undocumented)
export class A4Color {
    // (undocumented)
    static blue(text: string): string;
    // (undocumented)
    static blueBright(text: string): string;
    // (undocumented)
    static bold(text: string): string;
    // (undocumented)
    static cyan(text: string): string;
    // (undocumented)
    static cyanBright(text: string): string;
    // (undocumented)
    static green(text: string): string;
    // (undocumented)
    static greenBright(text: string): string;
    // (undocumented)
    static magenta(text: string): string;
    // (undocumented)
    static magentaBright(text: string): string;
    // (undocumented)
    static red(text: string): string;
    // (undocumented)
    static redBright(text: string): string;
    // (undocumented)
    static yellow(text: string): string;
    // (undocumented)
    static yellowBright(text: string): string;
}

// @public
export class A4ConfigBase<T extends object = object> implements IA4Config<T> {
    get cwd(): string;
    // (undocumented)
    get<P extends string | readonly string[]>(propertyPath: P): A4ConfigGetType<T, P, false>;
    // (undocumented)
    get<P extends string | readonly string[]>(propertyPath: P, defaultValue: NonUndefined<A4ConfigGetType<T, P, false>>): A4ConfigGetType<T, P, true>;
    // (undocumented)
    getA4EnvInfo(): IA4EnvInfo;
    // (undocumented)
    getA4Info(): IA4Info;
    // (undocumented)
    getA4LibrariesInfo(): IA4LibrariesInfo;
    // (undocumented)
    getA4PathInfo(): IA4PathInfo;
    // (undocumented)
    getA4StatsInfo(librariesInfoBase?: IA4LibrariesInfo): IA4StatusInfo;
    // (undocumented)
    getOrThrow<P extends string | readonly string[]>(propertyPath: P): A4ConfigGetType<T, P, false>;
    get mainFilepath(): string;
    get mainNormalRoot(): string;
    get mainRoot(): string;
}

// Warning: (ae-forgotten-export) The symbol "GetTypeForType" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export type A4ConfigGetType<OT, Path extends string | readonly string[],
/**
* 是否设置了默认值。
*/
WithDefault extends boolean = false> = OT extends object ? (Equal<OT, object> extends true ? unknown : GetTypeForType<OT, Path, WithDefault>) : never;

// @public
export class A4CrudUtil {
    static parseSortOptions<E extends IObjectLiteral>(value?: SortReqDto): ISortOptions<E>;
}

// @public
export class A4DefaultUtil {
    static strOrArrWithDefault(strOrArr: undefined | string | string[], defaultValue: string[]): string[];
}

// @public
export class A4Error extends Error {
    constructor(message?: string);
    // (undocumented)
    readonly name: string;
}

// @public
export class A4ExpressAdapter extends ExpressAdapter {
    useBodyParser<Options extends IA4ExpressBodyParserOptions = IA4ExpressBodyParserOptions>(type: NestExpressBodyParserType, rawBody: boolean, options?: Omit<Options, 'verify'>): this;
}

// @public (undocumented)
export class A4Factory {
    // (undocumented)
    static create(module: unknown, options?: IA4FactoryCreateOptions): Promise<A4Application>;
    // Warning: (ae-forgotten-export) The symbol "IA4FactoryInitBodyParserOptions" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected static initBodyParser(nestApplication: NestApplication, options: IA4FactoryInitBodyParserOptions): void;
}

// @public
export type A4GlobalProvideToken = `Global.A4.${string}`;

// @public
export class A4MicroServiceHelp {
    constructor(a4App: A4Application, provideToken: InjectionToken);
    // (undocumented)
    protected readonly a4App: A4Application;
    // (undocumented)
    protected readonly a4MicroService: IA4MicroService | undefined;
    closeClients(): Promise<void>;
    connect(): Promise<void>;
    connectClients(): Promise<void>;
    initClients(): Promise<void>;
    // (undocumented)
    protected readonly logger: Logger;
    start(): Promise<void>;
    stop(): Promise<void>;
}

// @public
export class A4ModuleBaseClassBuilder<O extends any, T extends IA4ModuleBaseBuilderOptions> {
    constructor(options: T);
    base(): {
        new (): {};
        logger: Logger;
        readonly CONFIG_PATH: `A4.${string}`;
        readonly Schema: T["Schema"];
        readonly CoreSchema: T["CoreSchema"];
        readonly GLOBAL_PROVIDE_TOKEN: `Global.A4.${string}`;
        readonly SCOPE_PROVIDE_TOKEN: `Scope.A4.${string}`;
        getConfig(a4Config: IA4Config<InstanceType<T['Schema']>>, configKey?: string): InstanceType<T['CoreSchema']>;
        readonly DEFAULT_CONFIG: InstanceType<T["CoreSchema"]>;
        readonly DEFAULT_OPTIONS: O;
        configToOptions(config: InstanceType<T['CoreSchema']>, a4Config?: IA4Config<InstanceType<T['Schema']>>): O;
        getOptions(a4Config: IA4Config<InstanceType<T['Schema']>>, configKey?: string): O;
        optionsToProvideClassConstructorOptions(configOptions: O): Promise<any>;
    };
    // (undocumented)
    readonly buildOptions: T;
    // (undocumented)
    protected get commonRegister(): {
        commonRegister: (provideName: InjectionToken, options: IA4ModuleRegisterOptions, isGlobal: boolean, extraOptions: IA4ModuleBaseResigterExtraOptions) => Omit<DynamicModule, 'module'>;
        commonRegisterAsync: (options: IA4ModuleRegisterAsyncOptions, extraOptions: IA4ModuleBaseResigterExtraOptions) => Omit<DynamicModule, 'module'>;
    };
    withForRoot(): {
        new (): {};
        forRoot(options: IA4ModuleForRootOptions<O>): DynamicModule;
        forRootAsync(options: IA4ModuleForRootAsyncOptions<O>): DynamicModule;
        logger: Logger;
        readonly CONFIG_PATH: `A4.${string}`;
        readonly Schema: T["Schema"];
        readonly CoreSchema: T["CoreSchema"];
        readonly GLOBAL_PROVIDE_TOKEN: `Global.A4.${string}`;
        readonly SCOPE_PROVIDE_TOKEN: `Scope.A4.${string}`;
        getConfig(a4Config: IA4Config<InstanceType<T["Schema"]>>, configKey?: string | undefined): InstanceType<T["CoreSchema"]>;
        readonly DEFAULT_CONFIG: InstanceType<T["CoreSchema"]>;
        readonly DEFAULT_OPTIONS: O;
        configToOptions(config: InstanceType<T["CoreSchema"]>, a4Config?: IA4Config<InstanceType<T["Schema"]>>): O;
        getOptions(a4Config: IA4Config<InstanceType<T["Schema"]>>, configKey?: string | undefined): O;
        optionsToProvideClassConstructorOptions(configOptions: O): Promise<any>;
    };
    withRegister(): {
        new (): {};
        register(options: IA4ModuleRegisterOptions<O>): DynamicModule;
        registerAsync(options: IA4ModuleRegisterAsyncOptions<O>): DynamicModule;
        logger: Logger;
        readonly CONFIG_PATH: `A4.${string}`;
        readonly Schema: T["Schema"];
        readonly CoreSchema: T["CoreSchema"];
        readonly GLOBAL_PROVIDE_TOKEN: `Global.A4.${string}`;
        readonly SCOPE_PROVIDE_TOKEN: `Scope.A4.${string}`;
        getConfig(a4Config: IA4Config<InstanceType<T["Schema"]>>, configKey?: string | undefined): InstanceType<T["CoreSchema"]>;
        readonly DEFAULT_CONFIG: InstanceType<T["CoreSchema"]>;
        readonly DEFAULT_OPTIONS: O;
        configToOptions(config: InstanceType<T["CoreSchema"]>, a4Config?: IA4Config<InstanceType<T["Schema"]>>): O;
        getOptions(a4Config: IA4Config<InstanceType<T["Schema"]>>, configKey?: string | undefined): O;
        optionsToProvideClassConstructorOptions(configOptions: O): Promise<any>;
    };
    // (undocumented)
    withRegisterAndForRoot(): {
        new (): {};
        register(options: IA4ModuleRegisterOptions<O>): DynamicModule;
        registerAsync(options: IA4ModuleRegisterAsyncOptions<O>): DynamicModule;
        forRoot(options: IA4ModuleForRootOptions<O>): DynamicModule;
        forRootAsync(options: IA4ModuleForRootAsyncOptions<O>): DynamicModule;
        logger: Logger;
        readonly CONFIG_PATH: `A4.${string}`;
        readonly Schema: T["Schema"];
        readonly CoreSchema: T["CoreSchema"];
        readonly GLOBAL_PROVIDE_TOKEN: `Global.A4.${string}`;
        readonly SCOPE_PROVIDE_TOKEN: `Scope.A4.${string}`;
        getConfig(a4Config: IA4Config<InstanceType<T["Schema"]>>, configKey?: string | undefined): InstanceType<T["CoreSchema"]>;
        readonly DEFAULT_CONFIG: InstanceType<T["CoreSchema"]>;
        readonly DEFAULT_OPTIONS: O;
        configToOptions(config: InstanceType<T["CoreSchema"]>, a4Config?: IA4Config<InstanceType<T["Schema"]>>): O;
        getOptions(a4Config: IA4Config<InstanceType<T["Schema"]>>, configKey?: string | undefined): O;
        optionsToProvideClassConstructorOptions(configOptions: O): Promise<any>;
    };
}

// @public
export abstract class A4ModuleBaseClassForRoot {
    static forRoot: <T>(options: IA4ModuleForRootOptions<T>) => DynamicModule;
    static forRootAsync: <T>(options: IA4ModuleForRootAsyncOptions<T>) => DynamicModule;
}

// @public
export abstract class A4ModuleBaseClassRegister {
    static register: <T>(options: IA4ModuleRegisterOptions<T>) => DynamicModule;
    static registerAsync: <T>(options: IA4ModuleRegisterAsyncOptions<T>) => DynamicModule;
}

// @public
export abstract class A4ModuleBaseClassRegisterAndForRoot {
    static forRoot: <T>(options: IA4ModuleForRootOptions<T>) => DynamicModule;
    static forRootAsync: <T>(options: IA4ModuleForRootAsyncOptions<T>) => DynamicModule;
    static register: <T>(options: IA4ModuleRegisterOptions<T>) => DynamicModule;
    static registerAsync: <T>(options: IA4ModuleRegisterAsyncOptions<T>) => DynamicModule;
}

// @public
export type A4ModuleConfigPath = `A4.${string}`;

// @public
export class A4RegistryHelp {
    constructor(a4App: A4Application, provideToken: InjectionToken);
    // (undocumented)
    protected readonly a4App: A4Application;
    // (undocumented)
    protected readonly a4Registry: IA4Registry | undefined;
    // (undocumented)
    protected readonly logger: Logger;
    start(): Promise<void>;
    stop(): Promise<void>;
}

// @public
export type A4ScopeProvideToken = `Scope.A4.${string}`;

// @public
export type A4SimpleControllerPromise = {
    [K in keyof IA4SimpleControllerBase]: (...args: Parameters<IA4SimpleControllerBase[K]>) => Promise<ReturnType<IA4SimpleControllerBase[K]>>;
};

// @public
export type A4SimpleControllerRxjs = {
    [K in keyof IA4SimpleControllerBase]: (...args: Parameters<IA4SimpleControllerBase[K]>) => Observable<ReturnType<IA4SimpleControllerBase[K]>>;
};

// @public
export type A4SimpleServicePromise = {
    [K in keyof IA4SimpleServiceBase]: (...args: Parameters<IA4SimpleServiceBase[K]>) => Promise<ReturnType<IA4SimpleServiceBase[K]>>;
};

// @public
export type A4SimpleServiceRxjs = {
    [K in keyof IA4SimpleServiceBase]: (...args: Parameters<IA4SimpleServiceBase[K]>) => Observable<ReturnType<IA4SimpleServiceBase[K]>>;
};

// @public
export class A4Util {
    static contentExtraProviders(extraProviders: Provider[], providers: Provider[], exports: Required<ModuleMetadata>['exports'], logger?: Logger): void;
    static handleRetry(dataSourceName: string, retryDelay: number, retryAttempts: number, verboseRetryLog: boolean, logger: Logger): <T>(source: Observable<T>) => Observable<T>;
    static noAbsoluteWith(sourcePath: string, basePath: string): string;
    // (undocumented)
    static providerEqual(provider1: Provider, provider2: Provider): boolean;
    static sleep(t: number): Promise<void>;
}

// @public
export class AllExceptionsFilter implements ExceptionFilter {
    constructor(_httpAdapterHost: HttpAdapterHost);
    // (undocumented)
    addExceptionRule(rule: IExceptionRule): void;
    // (undocumented)
    addExceptionRules(rules: IExceptionRule[]): void;
    // (undocumented)
    catch(exception: Error, host: ArgumentsHost): void;
    static parseExceptionRules(): IExceptionRule[];
    protected parseUnknownError(exception: Error, host: ArgumentsHost): IExceptionResponse;
}

// @public
export type ArrayNoFirst<T extends unknown[]> = T extends [unknown, ...args: infer O] ? O : [];

// @public
export abstract class BasePipe implements PipeTransform {
    constructor(options?: IBasePipeConstructorOptions);
    // (undocumented)
    protected exceptionFactory: (error: string) => Error;
    protected readonly optional: boolean;
    abstract transform(value: IObjectLiteral): IObjectLiteral | Promise<IObjectLiteral>;
}

// @public
export class BodyBooleanResultDto {
    // (undocumented)
    readonly data: boolean;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly status: number;
}

// @public
export class BodyByPageResultDto<T> extends BodyNoPageResultDto<T> {
    // (undocumented)
    readonly page: PageResDto;
}

// @public
export class BodyNoPageResultDto<T> {
    // (undocumented)
    readonly data: T;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly status: number;
}

// @public
export class BodyNumberResultDto {
    // (undocumented)
    readonly data: number;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly status: number;
}

// @public
export class BodyResultDto<T> {
    // (undocumented)
    readonly data: T;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly status: number;
}

// @public
export class ClassValidatorUtil {
    static mergeErrorsToOneMsg(errors: ValidationError[], options: IClassValidatorUtilParseOptions): string;
    static p2CwD<T, V>(cls: ClassConstructor<T>, plain: V): T;
    static parse<T extends object>(schema: ClassConstructor<T>, config: object, options?: IClassValidatorUtilParseOptions): T;
    static plainToClassWithDefault<T, V>(cls: ClassConstructor<T>, plain: V): T;
}

// @public
export const CU: typeof ClassValidatorUtil;

// @public
export type Debug<T> = {
    [K in keyof T]: T[K];
};

// @public
export type DebugDeep<T extends object> = {
    [K in keyof T]: T[K] extends object ? DebugDeep<T[K]> : T[K];
};

// @public
export type DeepPartial<T> = T | (T extends Array<infer U> ? DeepPartial<U>[] : T extends Map<infer K, infer V> ? Map<DeepPartial<K>, DeepPartial<V>> : T extends Set<infer M> ? Set<DeepPartial<M>> : T extends object ? {
    [K in keyof T]?: DeepPartial<T[K]>;
} : T);

// @public
export class DeleteByIdResultDto {
    // (undocumented)
    readonly data: DeleteEffectInfo;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly status: number;
}

// @public
export class DeleteByIdsResultDto {
    // (undocumented)
    readonly data: DeleteEffectInfo;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly status: number;
}

// @public
export class DeleteEffectInfo {
    // (undocumented)
    readonly effectNum: number | null;
}

// @public (undocumented)
export const ERROR_WELCOME_MSG: string;

// @public (undocumented)
export const getA4Config: (moduleRef: ModuleRef, logger?: Logger) => IA4Config;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_CACHE: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_CONFIG: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_CRUD: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_DOCS: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_LOCK: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_LOG: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_MICRO_SERVICE: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_NETWORK: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_REGISTRY: A4GlobalProvideToken;

// @public
export const GLOBAL_PROVIDE_TOKEN_A4_SAFE: A4GlobalProvideToken;

// @public (undocumented)
export const HOME_STATIC_PATH: string;

// @public
export const HTTP_LISTEN_DEFAULT: {
    readonly TRY_TIMES: 20;
    readonly TRY_INTERVAL: 300;
};

// @public
export class HttpProxyUtil {
    static splitUrl(url: string): [string, string, string];
}

// @public (undocumented)
export interface IA4AddressInfo {
    bindIPv4: boolean;
    bindIPv6: boolean;
    ipv4: string[];
    ipv6: string[];
    port: number;
}

// @public
export interface IA4AppConstructorOptions {
    readonly isTest?: boolean;
    readonly port?: number;
}

// @public
export interface IA4AppListenOptions {
    tryInterval?: number;
    tryTimes?: number;
}

// @public
export interface IA4AppStaticFileOptions {
    callback?: (req: Request_2, res: Response_2) => Promise<void> | void;
    contentCallback?: (req: Request_2, res: Response_2) => Promise<string> | string;
    contentType?: string;
    fileContent?: string;
    filepath?: string;
    logger?: boolean;
    loggerMarker?: string;
    requestPath: string;
}

// @public
export abstract class IA4Cache {
    // (undocumented)
    abstract init(app: A4Application): Promise<void>;
}

// @public
export abstract class IA4CacheModule {
}

// @public
export abstract class IA4Config<T extends object = object> {
    // (undocumented)
    cwd: string;
    // (undocumented)
    abstract get<P extends string | readonly string[]>(propertyPath: P): A4ConfigGetType<T, P, false>;
    // (undocumented)
    abstract get<P extends string | readonly string[]>(propertyPath: P, defaultValue: NonUndefined<A4ConfigGetType<T, P, false>>): A4ConfigGetType<T, P, true>;
    // (undocumented)
    abstract getA4EnvInfo(): IA4EnvInfo;
    // (undocumented)
    abstract getA4Info(): IA4Info;
    // (undocumented)
    abstract getA4LibrariesInfo(): IA4LibrariesInfo;
    // (undocumented)
    abstract getA4PathInfo(): IA4PathInfo;
    // (undocumented)
    abstract getA4StatsInfo(): IA4StatusInfo;
    // (undocumented)
    abstract getOrThrow<P extends string | readonly string[]>(propertyPath: P): A4ConfigGetType<T, P, false>;
    // (undocumented)
    mainFilepath: string;
    // (undocumented)
    mainNormalRoot: string;
    // (undocumented)
    mainRoot: string;
}

// @public
export abstract class IA4ConfigModule {
}

// @public
export abstract class IA4CrudModule {
}

// @public
export abstract class IA4Docs {
    // (undocumented)
    abstract init(app: A4Application): Promise<void>;
}

// @public
export abstract class IA4DocsModule {
}

// @public
export interface IA4EnvInfo {
    // (undocumented)
    arch: NodeJS.Architecture;
    // (undocumented)
    env: NodeJS.ProcessEnv;
    // (undocumented)
    nodeVersion: NodeJS.ProcessVersions;
    // (undocumented)
    pid: number;
    // (undocumented)
    platform: NodeJS.Platform;
}

// @public
export interface IA4ExpressBodyParserOptions extends NestExpressBodyParserOptions {
    prefix?: string;
}

// @public (undocumented)
export type IA4FactoryCreateOptions = NestApplicationOptions & Omit<IA4FactoryInitBodyParserOptions, 'bodyParser'> & IA4AppConstructorOptions & {
    readonly printLogo?: boolean;
};

// @public
export interface IA4HostAndPort {
    // (undocumented)
    host: string;
    // (undocumented)
    port: number;
}

// @public
export type IA4Info = IA4StatusInfo & IA4EnvInfo & IA4PathInfo & IA4LibrariesInfo;

// @public
export interface IA4LibrariesInfo {
    // (undocumented)
    packageJson: PackageJson;
}

// @public
export abstract class IA4LockModule {
}

// @public
export abstract class IA4LogModule {
    static getInitLogger: () => Promise<LoggerService>;
}

// @public
export abstract class IA4MicroService {
    abstract closeClients(): Promise<void>;
    abstract connectClients(): Promise<void>;
    abstract connectMicroservices(app: A4Application): Promise<void>;
    abstract initClients(): Promise<void>;
    abstract startMicroservices(app: A4Application): Promise<void>;
    abstract stopMicroservices(app: A4Application): Promise<void>;
}

// @public
export abstract class IA4MicroServiceModule {
}

// @public
export interface IA4ModuleBaseBuilderOptions {
    A4ModuleError: typeof A4Error;
    configPath: A4ModuleConfigPath;
    CoreSchema: ClassConstructor<any>;
    globalProvideToken: A4GlobalProvideToken;
    ProvideClass: Type<any>;
    Schema: ClassConstructor<any>;
    scopeProvideToken: A4ScopeProvideToken;
}

// Warning: (ae-internal-missing-underscore) The name "IA4ModuleBaseResigterExtraOptions" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export interface IA4ModuleBaseResigterExtraOptions {
    // (undocumented)
    logger: Logger;
    // (undocumented)
    optionsToProvideClassConstructorOptions: (configOptions: any) => Promise<object | object[]>;
}

// @public
export type IA4ModuleForRootAsyncOptions<T = any> = IA4ModuleForRootAsyncOptionsBase & (IA4ModuleRegisterAsyncOptions1<T> | IA4ModuleRegisterAsyncOptions2<T> | IA4ModuleRegisterAsyncOptions3<T>);

// @public
export interface IA4ModuleForRootAsyncOptionsBase extends IA4ModuleRegisterAsyncOptionsBase {
    isGlobal?: boolean;
}

// @public
export type IA4ModuleForRootOptions<T = any> = T;

// @public
export interface IA4ModuleOptionsFactory<T = any> {
    // (undocumented)
    getA4ModuleOptions(): Promise<T> | T;
}

// @public
export type IA4ModuleRegisterAsyncOptions<T = any> = IA4ModuleRegisterAsyncOptionsBase & (IA4ModuleRegisterAsyncOptions1<T> | IA4ModuleRegisterAsyncOptions2<T> | IA4ModuleRegisterAsyncOptions3<T>);

// @public
export interface IA4ModuleRegisterAsyncOptions1<T = any> {
    // (undocumented)
    imports?: Array<Type<any> | DynamicModule | Promise<DynamicModule> | ForwardReference>;
    // (undocumented)
    inject?: Array<InjectionToken | OptionalFactoryDependency>;
    // (undocumented)
    useClass?: undefined;
    // (undocumented)
    useExisting?: undefined;
    // (undocumented)
    useFactory: (...args: any[]) => Promise<T> | T;
}

// @public
export interface IA4ModuleRegisterAsyncOptions2<T = any> {
    // (undocumented)
    imports: Array<Type<any> | DynamicModule | Promise<DynamicModule> | ForwardReference>;
    // (undocumented)
    inject?: undefined;
    // (undocumented)
    useClass?: undefined;
    // (undocumented)
    useExisting: Type<IA4ModuleOptionsFactory<T>>;
    // (undocumented)
    useFactory?: undefined;
}

// @public
export interface IA4ModuleRegisterAsyncOptions3<T = any> {
    // (undocumented)
    imports?: Array<Type<any> | DynamicModule | Promise<DynamicModule> | ForwardReference>;
    // (undocumented)
    inject?: undefined;
    // (undocumented)
    useClass?: Type<IA4ModuleOptionsFactory<T>>;
    // (undocumented)
    useExisting?: undefined;
    // (undocumented)
    useFactory?: undefined;
}

// @public
export interface IA4ModuleRegisterAsyncOptionsBase {
    extraProviders?: Provider[];
    isGlobal?: boolean;
    provide?: InjectionToken;
}

// @public
export type IA4ModuleRegisterOptions<T = any> = T;

// @public
export abstract class IA4Network {
    currentPort: number | undefined;
    getAddressInfo: IA4NetworkModuleGetAddressInfo;
    getAvailablePort: IA4NetworkModuleGetAvailablePort;
    getHostAndPort: IA4NetworkModuleGetHostAndPort;
}

// @public
export abstract class IA4NetworkModule {
}

// @public
export type IA4NetworkModuleGetAddressInfo = () => IA4AddressInfo;

// @public
export type IA4NetworkModuleGetAvailablePort = () => Promise<number>;

// @public
export type IA4NetworkModuleGetHostAndPort = () => IA4HostAndPort;

// @public
export interface IA4PathInfo {
    // (undocumented)
    cwd: string;
    // (undocumented)
    mainFilepath: string;
    // (undocumented)
    mainNormalRoot: string;
    // (undocumented)
    mainRoot: string;
}

// @public
export abstract class IA4Registry {
    getAppId: () => string;
    getInstanceByAppId: (appId: string) => IA4RegistryInstance | undefined;
    getInstanceByVId: (virtualId: string) => IA4RegistryInstance | undefined;
    getInstanceId: () => string;
    getInstanceMeta: () => IA4RegistryInstanceMetadata;
    getInstanceMetaByAppId: (appId: string) => IA4RegistryInstanceMetadata | undefined;
    getInstanceMetaByVId: (virtualId: string) => IA4RegistryInstanceMetadata | undefined;
    getInstancesByAppId: (appId: string) => IA4RegistryInstance[];
    getInstancesByVId: (virtualId: string) => IA4RegistryInstance[];
    getInstancesMetaByAppId: (appId: string) => IA4RegistryInstanceMetadata[];
    getInstancesMetaByVId: (virtualId: string) => IA4RegistryInstanceMetadata[];
    getVIP: () => string;
    start: (options: IA4HostAndPort) => Promise<void>;
    stop: () => Promise<void>;
}

// @public
export type IA4RegistryInstance = object;

// @public
export interface IA4RegistryInstanceMetadata {
    // (undocumented)
    hostname: string;
    // (undocumented)
    port: string;
    // (undocumented)
    service: string;
    // (undocumented)
    urlAlias: string;
    // (undocumented)
    version: string;
}

// @public
export abstract class IA4RegistryModule {
}

// @public
export abstract class IA4Safe {
    // (undocumented)
    abstract init(app: A4Application): Promise<void>;
}

// @public
export abstract class IA4SafeModule {
}

// @public
export interface IA4SimpleControllerBase {
    deleteById: (params: ParamAnyIdReqDto) => BodyResultDto<DeleteEffectInfo>;
    deleteByIds: (params: ParamAnyIdsReqDto) => BodyResultDto<DeleteEffectInfo>;
    insert: (model: DeepPartial<IObjectLiteral>) => BodyResultDto<IObjectLiteral>;
    insertMulti: (modelList: DeepPartial<IObjectLiteral>[]) => BodyResultDto<IObjectLiteral[]>;
    selectById: (params: ParamAnyIdReqDto) => BodyResultDto<IObjectLiteral | null>;
    selectByIds: (params: ParamAnyIdsReqDto) => BodyResultDto<IObjectLiteral[]>;
    selectByPage: (model: IObjectLiteral, page: PageReqDto, sort: SortReqDto) => BodyByPageResultDto<IObjectLiteral[]>;
    selectNoPage: (model: IObjectLiteral, sort: SortReqDto) => BodyNoPageResultDto<IObjectLiteral[]>;
    updateById: (params: ParamAnyIdReqDto, model: Omit<IObjectLiteral, 'id'>) => BodyResultDto<UpdateEffectInfo>;
    updateByIds: (params: ParamAnyIdsReqDto, model: Omit<IObjectLiteral, 'id'>) => BodyResultDto<UpdateEffectInfo>;
}

// @public
export abstract class IA4SimpleDao {
    deleteByIdsToObservable(ids: any[]): Observable<IUpdateResult>;
    abstract deleteByIdsToPromise(ids: any[]): Promise<IDeleteResult>;
    deleteByIdToObservable(id: any): Observable<IUpdateResult>;
    abstract deleteByIdToPromise(id: any): Promise<IDeleteResult>;
    insertMultiToObservable(modelList: any[]): Observable<any[]>;
    abstract insertMultiToPromise(modelList: any[]): Promise<any[]>;
    insertToObservable(model: any): Observable<any>;
    abstract insertToPromise(model: any): Promise<any>;
    instance: any;
    selectByIdsToObservable(ids: any[]): Observable<any[]>;
    abstract selectByIdsToPromise(ids: any[]): Promise<any[]>;
    selectByIdToObservable(id: any): Observable<any | null>;
    abstract selectByIdToPromise(id: any): Promise<any | null>;
    selectByPageToObservable(model: DeepPartial<any>, options: ISelectByPageOptions<any>): Observable<ISelectByPageReturn<any>>;
    abstract selectByPageToPromise(model: DeepPartial<any>, options: ISelectByPageOptions<any>): Promise<ISelectByPageReturn<any>>;
    selectNoPageToObservable(model: DeepPartial<any>, options?: ISelectNoPageOptions<any>): Observable<ISelectNoPageReturn<any>>;
    abstract selectNoPageToPromise(model: DeepPartial<any>, options?: ISelectNoPageOptions<any>): Promise<ISelectNoPageReturn<any>>;
    updateByIdsToObservable(ids: any[], model: DeepPartial<any>): Observable<IUpdateResult>;
    abstract updateByIdsToPromise(ids: any[], model: DeepPartial<any>): Promise<IUpdateResult>;
    updateByIdToObservable(id: any, model: DeepPartial<any>): Observable<IUpdateResult>;
    abstract updateByIdToPromise(id: any, model: DeepPartial<any>): Promise<IUpdateResult>;
}

// @public
export interface IA4SimpleServiceBase {
    deleteById: (id: any) => IDeleteResult;
    deleteByIds: (ids: any[]) => IDeleteResult;
    insert: (model: DeepPartial<IObjectLiteral>) => IObjectLiteral;
    insertMulti: (modelList: DeepPartial<IObjectLiteral>[]) => IObjectLiteral[];
    selectById: (id: any) => IObjectLiteral | null;
    selectByIds: (ids: any[]) => IObjectLiteral[];
    selectByPage: (model: DeepPartial<IObjectLiteral>, options: ISelectByPageOptions<IObjectLiteral>) => ISelectByPageReturn<IObjectLiteral>;
    selectNoPage: (model: DeepPartial<IObjectLiteral>, options: ISelectNoPageOptions<IObjectLiteral>) => ISelectNoPageReturn<IObjectLiteral>;
    updateById: (id: any, model: DeepPartial<Omit<IObjectLiteral, 'id'>>) => IUpdateResult;
    updateByIds: (ids: any[], model: DeepPartial<Omit<IObjectLiteral, 'id'>>) => IUpdateResult;
}

// @public
export interface IA4StatusInfo {
    currentTime: number;
    currentTimeStr: string;
    description?: string;
    initTime: number;
    initTimeStr: string;
    name: string;
    normalName: string;
    upTime: number;
    upTimeStr: string;
    version: string;
}

// @public
export interface IA4ValidationPipeOptions extends ValidationPipeOptions {
}

// @public
export interface IBasePipeConstructorOptions extends ParseIntPipeOptions {
}

// @public
export interface IClassValidatorUtilParseOptions {
    errorColer?: boolean;
}

// @public
export interface IDeleteResult {
    affected?: number | null;
}

// @public
export class IdEntity {
    // (undocumented)
    id: number;
}

// @public
export interface IExceptionResponse {
    body: IExceptionResponseBody;
    instance: unknown;
    status: number;
}

// @public
export interface IExceptionResponseBody {
    data: null;
    message: string;
    status: number;
}

// @public
export type IExceptionRule = [
(exception: Error) => boolean,
(exception: Error, host: ArgumentsHost, httpAdapterHost: any) => IExceptionResponse
];

// @public
export interface IExceptionsFilterError extends Error {
    // (undocumented)
    error?: string[];
}

// @public
export interface IObjectLiteral {
    // (undocumented)
    [key: string]: any;
}

// @public
export interface IPageInReqData extends IObjectLiteral {
    // (undocumented)
    pageNum?: string;
    // (undocumented)
    pageSize?: string;
}

// @public
export interface IParseMultiIntConstructorOptions extends IBasePipeConstructorOptions {
    fields?: string[];
}

// @public
export interface ISelectByPageOptions<T extends IObjectLiteral> extends ISelectNoPageOptions<T> {
    // (undocumented)
    page?: PageReqDto;
}

// @public
export interface ISelectByPageReturn<T extends IObjectLiteral> extends ISelectNoPageReturn<T> {
    // (undocumented)
    page: PageResDto;
}

// @public
export interface ISelectNoPageOptions<T extends IObjectLiteral> {
    // (undocumented)
    sort?: ISortOptions<T>;
}

// @public
export interface ISelectNoPageReturn<T extends IObjectLiteral> {
    // (undocumented)
    data: T[];
}

// @public
export function IsId(validationOptions?: ValidationOptions): PropertyDecorator;

// @public
export const isId: (value: unknown) => boolean;

// @public
export function IsIdArray(validationOptions?: ValidationOptions): PropertyDecorator;

// @public
export const isIdArray: (value: unknown) => boolean;

// @public
export function IsIdorSId(validationOptions?: ValidationOptions): PropertyDecorator;

// @public
export function IsIdorSIdArray(validationOptions?: ValidationOptions): PropertyDecorator;

// @public
export function IsOptionalNotNull(validationOptions?: ValidationOptions): PropertyDecorator;

// @public
export interface ISortInReqData extends IObjectLiteral {
    // (undocumented)
    sort?: string;
}

// @public
export type ISortOptions<T extends IObjectLiteral> = {
    [P in keyof T]?: 'ASC' | 'DESC' | 'asc' | 'desc' | '1' | '-1';
};

// @public
export function IsSId(validationOptions?: ValidationOptions): PropertyDecorator;

// @public
export const isSId: (value: unknown) => boolean;

// @public
export function IsSIdArray(validationOptions?: ValidationOptions): PropertyDecorator;

// @public
export const isSIdArray: (value: unknown) => boolean;

// @public
export interface IUpdateResult {
    affected?: number | null;
}

// @public
export class LoggerMiddleware implements NestMiddleware {
    // (undocumented)
    use(request: Request_2, response: Response_2, next: NextFunction): void;
}

// @public
export class LogoUtil {
    static get content(): string;
    static print(onlyLogo?: boolean): void;
}

// @public (undocumented)
export const MAIN_STATIC_PATH: string;

// @public
export const MODULE_CONFIG_PATH_A4_CACHE: "A4.cache";

// @public
export const MODULE_CONFIG_PATH_A4_CONFIG: "A4.config";

// @public
export const MODULE_CONFIG_PATH_A4_CRUD: <T extends string>(str: T) => `A4.crud.${T}`;

// @public
export const MODULE_CONFIG_PATH_A4_DOCS: "A4.docs";

// @public
export const MODULE_CONFIG_PATH_A4_LOCK: <T extends string>(str: T) => `A4.lock.${T}`;

// @public
export const MODULE_CONFIG_PATH_A4_LOG: <T extends string>(str: T) => `A4.log.${T}`;

// @public
export const MODULE_CONFIG_PATH_A4_MICRO_SERVICE: "A4.microService";

// @public
export const MODULE_CONFIG_PATH_A4_NETWORK: "A4.network";

// @public
export const MODULE_CONFIG_PATH_A4_REGISTRY: <T extends string>(str: T) => `A4.registry.${T}`;

// @public
export const MODULE_CONFIG_PATH_A4_SAFE: "A4.safe";

// @public
export class ModuleError extends A4Error {
}

// @public
export type NonUndefined<T> = T extends undefined ? never : T;

// @public
export class PageReqDto {
    pageNum: number;
    pageSize: number;
}

// @public
export class PageResDto {
    readonly pageNum: number;
    readonly pageSize: number;
    readonly total: number;
}

// @public
export class ParamAnyIdReqDto {
    // (undocumented)
    readonly id: any;
}

// @public
export class ParamAnyIdsReqDto {
    // (undocumented)
    readonly ids: any[];
}

// @public
export class ParamIdReqDto {
    // (undocumented)
    readonly id: number;
}

// @public
export class ParamIdsReqDto {
    // (undocumented)
    readonly ids: number[];
}

// @public
export class ParamSIdReqDto {
    // (undocumented)
    readonly id: string;
}

// @public
export class ParamSIdsReqDto {
    // (undocumented)
    readonly ids: string[];
}

// @public
export class ParseMultiNumberArrayPipe extends ParseMultiNumberPipe {
    constructor(options?: IParseMultiIntConstructorOptions);
    // (undocumented)
    transform(value: IObjectLiteral): Promise<IObjectLiteral>;
}

// @public
export class ParseMultiNumberPipe extends BasePipe {
    constructor(options?: IParseMultiIntConstructorOptions);
    // (undocumented)
    protected fields: string[];
    // (undocumented)
    transform(value: IObjectLiteral): Promise<IObjectLiteral>;
}

// @public
export class ParseMultiStrArrayPipe extends ParseMultiNumberPipe {
    constructor(options?: IParseMultiIntConstructorOptions);
    // (undocumented)
    transform(value: IObjectLiteral): Promise<IObjectLiteral>;
}

// @public
export class ParsePagePipe implements PipeTransform {
    // (undocumented)
    transform(value: IPageInReqData): Partial<PageReqDto>;
}

// @public
export class ParseSortPipe implements PipeTransform {
    // (undocumented)
    transform(value: ISortInReqData): SortReqDto;
}

// @public
export type PartialKey<T extends IObjectLiteral, Key extends string> = {
    [K in keyof T as K extends Key ? never : K]: T[K];
} & {
    [K in keyof T as K extends Key ? K : never]?: T[K];
};

// @public
export class RemovePagePipe implements PipeTransform {
    // (undocumented)
    transform(value: IObjectLiteral): IObjectLiteral;
}

// @public
export class RemoveSortPipe implements PipeTransform {
    // (undocumented)
    transform(value: IObjectLiteral): IObjectLiteral;
}

// @public
export class RemoveUnionPipe extends BasePipe {
    constructor(options?: IBasePipeConstructorOptions);
    // (undocumented)
    readonly removePagePipe: RemovePagePipe;
    // (undocumented)
    readonly removeSortPipe: RemoveSortPipe;
    // (undocumented)
    transform(value: IObjectLiteral): IObjectLiteral;
}

// @public
export class RunEnv {
    static get inJest(): boolean;
    static get inPKG(): boolean;
    static get inVSCodeDebugger(): boolean;
    static get isDev(): boolean;
    static get isProd(): boolean;
}

// @public
export const SCOPE_PROVIDE_TOKEN_A4_CACHE: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_CONFIG: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_CRUD: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_DOCS: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_LOCK: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_LOG: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_MICRO_SERVICE: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_NETWORK: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_REGISTRY: A4ScopeProvideToken;

// @public
export const SCOPE_PROVIDE_TOKEN_A4_SAFE: A4ScopeProvideToken;

// @public
export class SIdEntity {
    // (undocumented)
    id: string;
}

// @public
export class SortReqDto {
    sort?: string;
}

// @public
export type TIdEntity = Debug<IdEntity>;

// @public
export class TransformInterceptor<T extends IObjectLiteral = IObjectLiteral> implements NestInterceptor<T, unknown> {
    // Warning: (ae-forgotten-export) The symbol "ITransformInterceptorConstructorOptions" needs to be exported by the entry point index.d.ts
    constructor(options?: ITransformInterceptorConstructorOptions);
    // (undocumented)
    protected httpLogger: Logger;
    // (undocumented)
    intercept(context: ExecutionContext, next: CallHandler): Observable<unknown>;
    // (undocumented)
    protected logger: Logger;
    // (undocumented)
    protected rpcLogger: Logger;
}

// @public
export type TSIdEntity = Debug<SIdEntity>;

// @public
export type TUnionIdEntity = Debug<UnionIdEntity>;

// @public
export class UnionIdEntity {
    // (undocumented)
    id: string | number;
}

// @public
export type UnionToUnionArray<T, P = T> = P extends T ? Array<P> : never;

// @public
export class UpdateByIdResultDto {
    // (undocumented)
    readonly data: UpdateEffectInfo;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly status: number;
}

// @public
export class UpdateByIdsResultDto {
    // (undocumented)
    readonly data: UpdateEffectInfo;
    // (undocumented)
    readonly message: string;
    // (undocumented)
    readonly status: number;
}

// @public
export class UpdateEffectInfo {
    // (undocumented)
    readonly effectNum: number | null;
}

// @public
export class ValidationWithDefaultPipe extends ValidationPipe {
    constructor(options?: ValidationPipeOptions);
}

// Warnings were encountered during analysis:
//
// dist/module/_base/a4-module-builder.d.ts:23:9 - (ae-incompatible-release-tags) The symbol "commonRegister" is marked as @public, but its signature references "IA4ModuleBaseResigterExtraOptions" which is marked as @internal
// dist/module/_base/a4-module-builder.d.ts:24:9 - (ae-incompatible-release-tags) The symbol "commonRegisterAsync" is marked as @public, but its signature references "IA4ModuleBaseResigterExtraOptions" which is marked as @internal

// (No @packageDocumentation comment for this package)

```

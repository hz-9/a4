## API Report File for "@hz-9/a4-crud-typeorm"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { A4ModuleBase } from '@hz-9/a4-core';
import { DataSourceOptions } from 'typeorm';
import { DeepPartial } from '@hz-9/a4-core';
import { DynamicModule } from '@nestjs/common';
import type { EntitySchema } from 'typeorm';
import { FactoryProvider } from '@nestjs/common';
import { IA4Config } from '@hz-9/a4-core';
import { IA4CrudModule } from '@hz-9/a4-core';
import { IA4SimpleDao } from '@hz-9/a4-core';
import { IDeleteResult } from '@hz-9/a4-core';
import { Inject } from '@nestjs/common';
import { IObjectLiteral } from '@hz-9/a4-core';
import { ISelectByPageOptions } from '@hz-9/a4-core';
import { ISelectByPageReturn } from '@hz-9/a4-core';
import { ISelectNoPageOptions } from '@hz-9/a4-core';
import { ISelectNoPageReturn } from '@hz-9/a4-core';
import { IUpdateResult } from '@hz-9/a4-core';
import { Logger } from '@nestjs/common';
import { PartialKey } from '@hz-9/a4-core';
import { Repository } from 'typeorm';

// @public
export const A4_CRUD_TYPEORM_DATASOURCE_GROUP: "A4.Crud.TypeORM.DataSourceGroup";

// @public
export const A4_CRUD_TYPEORM_OPTIONS: "A4.Crud.TypeORM.Option";

// @public
export const A4_DEFAULT_DATA_SOURCE_NAME: "default";

// @public
export class A4TypeORMCrud<E extends IObjectLiteral> extends IA4SimpleDao {
    constructor(repository: Repository<E>);
    // (undocumented)
    deleteByIdsToPromise(ids: E['id'][]): Promise<IDeleteResult>;
    // (undocumented)
    deleteByIdToPromise(id: E['id']): Promise<IDeleteResult>;
    // (undocumented)
    insertMultiToPromise(modelList: PartialKey<E, 'id'>[]): Promise<E[]>;
    // (undocumented)
    insertToPromise(model: PartialKey<E, 'id'>): Promise<E>;
    // (undocumented)
    readonly instance: Repository<E>;
    // (undocumented)
    readonly logger: Logger;
    // (undocumented)
    selectByIdsToPromise(ids: E['id'][]): Promise<E[]>;
    // (undocumented)
    selectByIdToPromise(id: E['id']): Promise<E | null>;
    // (undocumented)
    selectByPageToPromise(model: DeepPartial<E>, options?: ISelectByPageOptions<E>): Promise<ISelectByPageReturn<E>>;
    // (undocumented)
    selectNoPageToPromise(model: DeepPartial<E>, options?: ISelectNoPageOptions<E>): Promise<ISelectNoPageReturn<E>>;
    // (undocumented)
    updateByIdsToPromise(ids: E['id'][], model: DeepPartial<Omit<E, 'id'>>): Promise<IUpdateResult>;
    // (undocumented)
    updateByIdToPromise(id: E['id'], model: DeepPartial<Omit<E, 'id'>>): Promise<IUpdateResult>;
}

// @public
export class A4TypeORMCrudModule implements A4ModuleBase, IA4CrudModule {
    // (undocumented)
    static CONFIG_MIDDLE_PATH: "A4.crud.typeORM";
    // (undocumented)
    static forFeature(entities?: EntityClassOrSchema[], dataSourceName?: string): DynamicModule;
    // (undocumented)
    static forRootAsync(options: Omit<FactoryProvider<Record<string, DataSourceOptionsExtraWithDefault>>, 'provide'>): DynamicModule;
    // (undocumented)
    static getConfig(a4Config: IA4Config): Record<string, DataSourceOptionsExtraWithDefault>;
    // (undocumented)
    static logger: Logger;
    // (undocumented)
    static Schema: typeof A4TypeORMCrudModuleSchemaA;
}

// Warning: (ae-internal-missing-underscore) The name "A4TypeORMCrudModuleOptions" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal (undocumented)
export type A4TypeORMCrudModuleOptions = Record<string, DataSourceOptionsExtraWithDefault>;

// @public
export class A4TypeORMCrudModuleSchema {
    // (undocumented)
    readonly default: DataSourceOptionsExtra;
}

// @public
export class A4TypeORMCrudModuleSchemaA {
    // (undocumented)
    readonly A4: A4TypeORMCrudModuleSchemaB;
}

// @public
export class A4TypeORMCrudModuleSchemaB {
    // (undocumented)
    readonly crud: A4TypeORMCrudModuleSchemaC;
}

// @public
export class A4TypeORMCrudModuleSchemaC {
    // (undocumented)
    readonly typeORM: A4TypeORMCrudModuleSchema;
}

// @public
export const CRUD_TYPEORM_MODULE_DEFAULT: {
    readonly AUTO_LOAD_ENTITIES: true;
    readonly RETRY_ATTMPTS: 10;
    readonly RETRY_DELAY: 3000;
    readonly VERBOSE_RESTRY_LOG: true;
};

// @public
export type DataSourceOptionsExtra = DataSourceOptions & ITypeORMModuleOptions;

// @public
export type DataSourceOptionsExtraWithDefault = DataSourceOptions & Required<ITypeORMModuleOptions>;

// @public
export class EntitiesStorage {
    // (undocumented)
    static addEntitiesByDataSource(dbName: string, entities: EntityClassOrSchema[]): void;
    // (undocumented)
    static getEntitiesByDataSource(dbName: string): EntityClassOrSchema[];
    // (undocumented)
    protected static readonly storage: Map<string, EntityClassOrSchema[]>;
}

// @public (undocumented)
export type EntityClassOrSchema = Function | EntitySchema;

// @public
export const getRepositoryToken: (entity: EntityClassOrSchema, dataSource: string) => string;

// @public
export const getTypeORMCrudToken: (entity: EntityClassOrSchema, dataSource: string) => string;

// @public
export const InjectA4TypeORMCrud: (entity: EntityClassOrSchema, dataSource?: string) => ReturnType<typeof Inject>;

// @public
export const InjectRepository: (entity: EntityClassOrSchema, dataSource?: string) => ReturnType<typeof Inject>;

// @public
export interface ITypeORMModuleOptions {
    autoLoadEntities?: boolean;
    retryAttempts?: number;
    retryDelay?: number;
    verboseRetryLog?: boolean;
}

// Warning: (ae-internal-missing-underscore) The name "splitExtraOptions" should be prefixed with an underscore because the declaration is marked as @internal
//
// @internal
export const splitExtraOptions: (options: DataSourceOptionsExtraWithDefault) => [DataSourceOptions, Required<ITypeORMModuleOptions>];

// (No @packageDocumentation comment for this package)

```

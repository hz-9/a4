## API Report File for "@hz-9/a4-lock-redlock"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { A4ModuleBase } from '@hz-9/a4-core';
import type { Cache as Cache_2 } from 'cache-manager';
import { DynamicModule } from '@nestjs/common';
import { IA4Config } from '@hz-9/a4-core';
import { IA4LockModule } from '@hz-9/a4-core';
import { IA4ModuleForRootAsyncOptions } from '@hz-9/a4-core';
import { Logger } from '@nestjs/common';
import type { Milliseconds } from 'cache-manager';
import { Observable } from 'rxjs';
import type { RedisOptions } from 'ioredis';
import Redlock from '@hz-9/redlock-dist';
import type { WrapTTL } from 'cache-manager';

// @public
export class A4LockModuleSchemaB {
    // (undocumented)
    readonly lock: A4RedLockModuleSchemaC;
}

// @public
export class A4RedlockLockModule implements A4ModuleBase, IA4LockModule {
    // (undocumented)
    static CONFIG_MIDDLE_PATH: "A4.lock.redlock";
    // (undocumented)
    static forRootAsync(options: IA4ModuleForRootAsyncOptions<A4RedLockModuleSchema>): DynamicModule;
    // (undocumented)
    static getConfig(a4Config: IA4Config<A4RedlockLockModule['Schema']>, configKey?: string): A4RedLockModuleSchema;
    // (undocumented)
    static logger: Logger;
    // (undocumented)
    static Schema: typeof A4RedLockModuleSchemaA;
    // (undocumented)
    Schema: A4RedLockModuleSchemaA;
}

// @public
export class A4RedLockModuleSchema {
    connect?: RedisOptions;
    connects?: RedisOptions[];
    setting: A4RedLockSettingModuleSchema;
}

// @public
export class A4RedLockModuleSchemaA {
    // (undocumented)
    readonly A4: A4LockModuleSchemaB;
}

// @public
export class A4RedLockModuleSchemaC {
    // (undocumented)
    readonly redlock: A4RedLockModuleSchema;
}

// @public
export class A4RedLockSettingModuleSchema {
    automaticExtensionThreshold: number;
    driftFactor: number;
    retryCount: number;
    retryDelay: number;
    retryJitter: number;
}

// @public
export const cacheWrapToObservable: <T>(cache: Cache_2, key: string, fun: () => Observable<T>, ttl?: WrapTTL<T> | undefined, refreshThreshold?: Milliseconds) => Observable<T>;

// @public
export const cacheWrapToObservable2: <T>(cache: Cache_2, key: string, fun: () => Promise<T>, ttl?: WrapTTL<T> | undefined, refreshThreshold?: Milliseconds) => Observable<T>;

// @public
export const LOCK_MODULE_DEFAULT: {
    readonly SETTINGS: {
        readonly DRIFT_FACTOR: 0.01;
        readonly RETRY_COUNT: 10;
        readonly RETRY_DELAY: 200;
        readonly RETRY_JITTER: 200;
        readonly AUTOMATIC_EXTENSION_THRESHOLD: 500;
    };
};

export { Redlock }

// (No @packageDocumentation comment for this package)

```
